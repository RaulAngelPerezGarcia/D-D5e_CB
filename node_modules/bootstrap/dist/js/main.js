/**
Here we write all the logic needed for the page to work
*/
function update(){
	calculateAll('Str');
	calculateAll('Dex');
	calculateAll('Con');
	calculateAll('Int');
	calculateAll('Wis');
	calculateAll('Cha');
};

function calculateAll(idTag){
	calcScore(idTag);
	calcMod(idTag);
}


// Here all the Base values are calculated
function incBase(idTag){
	var variable =document.getElementById('disp'+idTag).value;
	document.getElementById('disp' + idTag).value = +variable + +1;
	calculateAll(idTag)
}

function decBase(idTag){
	var variable = document.getElementById('disp'+idTag).value;
	document.getElementById('disp' + idTag).value = +variable - +1;
	calculateAll(idTag)
}


// Here all the Scores values are calculated
function calcScore(idTag){
	var base = document.getElementById('disp'+idTag).value;
	var racial = document.getElementById('racial'+idTag).value;
	document.getElementById('score' + idTag).value =  +base + +racial;
}


// Here all the Modifiers values are calculated
function calcMod(idTag){
	var score = document.getElementById('score'+idTag).value;
	console.log(score);
	var modifier;
	modifier = Math.floor((score/2)-5)
	if (modifier>0){
		document.getElementById('modifier'+idTag).value = '+' + modifier;
	}else{
		document.getElementById('modifier'+idTag).value = modifier;	
	}
}

function selectedRace(race, selected){

	if (race == "human"){
		document.getElementById('racialStr').value = 1;
		document.getElementById('racialDex').value = 1;
		document.getElementById('racialCon').value = 1;
		document.getElementById('racialInt').value = 1;
		document.getElementById('racialWis').value = 1;
		document.getElementById('racialCha').value = 1;		
	} else if (race == "dwarfHill"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 0;
		document.getElementById('racialCon').value = 2;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 1;
		document.getElementById('racialCha').value = 0;		
	} else if (race == "dwarfMountain"){
		document.getElementById('racialStr').value = 2;
		document.getElementById('racialDex').value = 0;
		document.getElementById('racialCon').value = 2;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 0;		
	} else if (race == "elfHigh"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 2;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 1;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 1;		
	} else if (race == "elfWood"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 2;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 1;
		document.getElementById('racialCha').value = 0;		
	} else if (race == "elfDrow"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 2;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 1;		
	} else if (race == "halflingLightfoot"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 2;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 1;		
	} else if (race == "halflingStout"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 2;
		document.getElementById('racialCon').value = 1;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 0;		
	} else if (race == "dragonborn"){
		document.getElementById('racialStr').value = 2;
		document.getElementById('racialDex').value = 0;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 1;		
	} else if (race == "gnomeForest"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 1;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 2;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 0;		
	} else if (race == "gnomeRock"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 0;
		document.getElementById('racialCon').value = 1;
		document.getElementById('racialInt').value = 2;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 0;		
	} else if (race == "halfElf"){
		document.getElementById('racialStr').value = 2;
		document.getElementById('racialDex').value = 0;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 1;		
	} else if (race == "halfOrc"){
		document.getElementById('racialStr').value = 2;
		document.getElementById('racialDex').value = 0;
		document.getElementById('racialCon').value = 1;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 0;		
	} else if (race == "tiefling"){
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 0;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 1;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 2;		
	} else{
		document.getElementById('racialStr').value = 0;
		document.getElementById('racialDex').value = 0;
		document.getElementById('racialCon').value = 0;
		document.getElementById('racialInt').value = 0;
		document.getElementById('racialWis').value = 0;
		document.getElementById('racialCha').value = 0;		
	}

	dropdown(selected);
	update();
}

function dropdown(val) {
  var y = document.getElementsByClassName('btn btn-default dropdown-toggle');
  var aNode = y[0].innerHTML = val + ' <span class="caret"></span>'; // Append 
}